{"version":3,"sources":["../../../../src/routes/superAgent/ctrls/createNewAgent.js"],"names":["createNewAgent","req","res","body","username","password","passcode","newAgent","account","superAgent","user","_id","save","json"],"mappings":";;;;;;AAAA;;;;AAEA;;;;AACA;;;;;;;;AAIA,IAAMA;AAAA,sDAAiB,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGoBD,IAAIE,IAHxB,EAGbC,QAHa,aAGbA,QAHa,EAGHC,QAHG,aAGHA,QAHG,EAGOC,QAHP,aAGOA,QAHP;AAKfC,cALe,GAKJ,oBAAU;AAC1BC,gBAAS;AACRJ,kBAAUA,QADF;AAERC,kBAAUA,QAFF;AAGRC,kBAAUA;AAHF,QADiB;AAM1BG,mBAAYR,IAAIS,IAAJ,CAASC;AANK,OAAV,CALI;AAAA;AAAA,aAcfJ,SAASK,IAAT,EAde;;AAAA;;AAgBrBV,UAAIW,IAAJ,CAASN,QAAT;;AAhBqB;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAjB;;AAAA;AAAA;AAAA;AAAA,GAAN;;kBAuBeP,c","file":"createNewAgent.js","sourcesContent":["import moment from 'moment'\n\nimport Agent from '../../../models/Agent';\nimport _ from 'lodash'\n\n\n\nconst createNewAgent = async (req, res) => {\n\ttry{\n\n\t\tconst { username, password, passcode } = req.body\n\n\t\tconst newAgent = new Agent({\n\t\t\taccount: {\n\t\t\t\tusername: username,\n\t\t\t\tpassword: password,\n\t\t\t\tpasscode: passcode\n\t\t\t},\n\t\t\tsuperAgent: req.user._id\n\t\t})\n\n\t\tawait newAgent.save()\n\n\t\tres.json(newAgent)\n\n\t}catch(err){\n\t\tthrow err\n\t}\n}\n\nexport default createNewAgent;"]}