{"version":3,"sources":["../../../../src/routes/superAgent/ctrls/fetchHistoryBet.js"],"names":["fetchHistoryBet","req","res","find","user","_id","$gte","startOf","$lte","endOf","populate","path","select","historyBetList","json"],"mappings":";;;;;;AAEA;;AACA;;;;AACA;;;;;;;;AAEA,IAAMA;AAAA,sDAAkB,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAEO,qBAAWC,IAAX,CAAgB,EAAG,oBAAoBF,IAAIG,IAAJ,CAASC,GAAhC,EAAsC,YAAY,EAACC,MAAM,wBAASC,OAAT,CAAiB,SAAjB,CAAP,EAAoCC,MAAM,wBAASC,KAAT,CAAe,SAAf,CAA1C;AAAlD,OAAhB,EAC1BC,QAD0B,CACjB;AACXC,aAAM,cADK;AAEXC,eAAQ;AAFG,OADiB,CAFP;;AAAA;AAEhBC,oBAFgB;;AAOtBX,UAAIY,IAAJ,CAASD,cAAT;AAPsB;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAlB;;AAAA;AAAA;AAAA;AAAA,GAAN;;kBAeeb,e","file":"fetchHistoryBet.js","sourcesContent":["\n\nimport { HistoryBet } from '../../../models/BetOrder';\nimport _ from 'lodash'\nimport moment from 'moment'\n\nconst fetchHistoryBet = async (req, res) => {\n\ttry{\n\t\tconst historyBetList = await HistoryBet.find({  'owner.superAgent': req.user._id,  'closedAt': {$gte: moment().startOf('isoWeek'), $lte: moment().endOf('isoWeek')}\n\t\t}).populate({ \n\t\t\tpath: 'owner.player', \n\t\t\tselect: 'account.username'\n\t\t})\n\t\tres.json(historyBetList)\n\t}catch(err){\n\t\tthrow err\n\t}\n\n}\n\n\nexport default fetchHistoryBet\n\n"]}