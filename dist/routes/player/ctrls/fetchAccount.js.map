{"version":3,"sources":["../../../../src/routes/player/ctrls/fetchAccount.js"],"names":["fetchAccount","req","res","find","user","_id","$gte","startOf","$lte","endOf","thisWeekHistoryBetList","json"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AACA,IAAMA;AAAA,sDAAe,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAEkB,qBAAWC,IAAX,CAAgB,EAAE,gBAAgBF,IAAIG,IAAJ,CAASC,GAA3B,EAAgC,YAAY,EAACC,MAAM,wBAASC,OAAT,CAAiB,SAAjB,CAAP,EAAoCC,MAAM,wBAASC,KAAT,CAAe,SAAf,CAA1C,EAA5C,EAAhB,EAAoI,uBAApI,CAFlB;;AAAA;AAEbC,4BAFa;;AAGnBR,UAAIS,IAAJ,CAASD,sBAAT;AAHmB;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAf;;AAAA;AAAA;AAAA;AAAA,GAAN;;kBASeV,Y","file":"fetchAccount.js","sourcesContent":["import moment from 'moment';\nimport { HistoryBet } from '../../../models/BetOrder';\nconst fetchAccount = async (req, res) => {\n\ttry{\n\t\tconst thisWeekHistoryBetList = await HistoryBet.find({ 'owner.player': req.user._id, 'closedAt': {$gte: moment().startOf('isoWeek'), $lte: moment().endOf('isoWeek')} }, 'closedAt resultAmount')\n\t\tres.json(thisWeekHistoryBetList)\n\t}catch(err){\n\t\tthrow err\n\t}\n}\n\nexport default fetchAccount;\n"]}