{"version":3,"sources":["../../../../src/routes/player/ctrls/requestCancelOpenBet.js"],"names":["requestCancelOpenBet","req","res","console","log","body","cancelList","Promise","all","map","openBetId","findOneAndUpdate","_id","Types","ObjectId","$set","requestCancel","then","json"],"mappings":";;;;;;AAAA;;AACA;;;;;;;;AACA,IAAMA;AAAA,sDAAuB,kBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAE3BC,cAAQC,GAAR,CAAYH,IAAII,IAAhB;AACQC,gBAHmB,GAGJL,IAAII,IAHA,CAGnBC,UAHmB;AAAA;AAAA,aAIrBC,QAAQC,GAAR,CAAYF,WAAWG,GAAX;AAAA,6DAAe,iBAAMC,SAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAC1B,kBAAQC,gBAAR,CAAyB,EAAEC,KAAK,mBAASC,KAAT,CAAeC,QAAf,CAAwBJ,SAAxB,CAAP,EAAzB,EAAsE,EAACK,MAAM,EAAEC,eAAe,IAAjB,EAAP,EAAtE,CAD0B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAf;;AAAA;AAAA;AAAA;AAAA,UAAZ,EAEFC,IAFE,CAEG,YAAM;AACdf,WAAIgB,IAAJ,CAAS,MAAT;AACA,OAJK,CAJqB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAvB;;AAAA;AAAA;AAAA;AAAA,GAAN;;kBAcelB,oB","file":"requestCancelOpenBet.js","sourcesContent":["import { OpenBet } from '../../../models/BetOrder';\nimport mongoose from 'mongoose';\nconst requestCancelOpenBet = async (req, res) => {\n\ttry{\n\t\tconsole.log(req.body)\n\t\tconst { cancelList } = req.body\n\t\tawait Promise.all(cancelList.map(async openBetId => {\n\t\t\tawait OpenBet.findOneAndUpdate({ _id: mongoose.Types.ObjectId(openBetId) }, {$set: { requestCancel: true } })\n\t\t})).then(() => {\n\t\t\tres.json('done')\n\t\t})\n\t}catch(err){\n\t\tthrow err\n\t}\n}\n\nexport default requestCancelOpenBet;"]}