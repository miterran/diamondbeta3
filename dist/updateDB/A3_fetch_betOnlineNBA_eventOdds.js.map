{"version":3,"sources":["../../src/updateDB/A3_fetch_betOnlineNBA_eventOdds.js"],"names":["fetch_betOnlineNBA_eventOdds","findOne","provider","activate","betOnlineNBA","get","apiLink","response","isEmpty","data","explicitArray","nbaData","bestlinesports_line_feed","event","Promise","all","map","league","away","home","participant","visiting_home_draw","oddType","period","period_description","console","log","line","perioddesc","newEventOdd","uniqueId","rotnum","replace","toUpperCase","utc","event_datetimeGMT","add","subtract","format","source","bookmaker","id","lastUpdated","sport","region","details","matchTime","cutOffTime","periodcutoff_datetimeGMT","team","participant_name","homeROT","homePitcher","awayROT","awayPitcher","odds","moneyLineHome","Number","moneyline","moneyLineAway","pointSpreadHome","spread","spread_home","pointSpreadAway","spread_visiting","pointSpreadHomeLine","spread_adjust_home","pointSpreadAwayLine","spread_adjust_visiting","totalNumber","total","total_points","overLine","over_adjust","underLine","under_adjust","updatedAt","expireAt","existedEventOdd","save","findOneAndUpdate","$set"],"mappings":"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D,CAtFsD;;AAAA;AAuF5DJ,oBAAQC,GAAR,cAAuBG,YAAYC,QAAnC;;AAvF4D;AAAA,6CA0FvD,IA1FuD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA5C;;AAAA;AAAA;AAAA;AAAA,UAAZ,CAVyB;;AAAA;AAAA;AAAA;;AAAA;AA0G/BL,cAAQC,GAAR,CAAY,0BAAZ;;AA1G+B;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAA/B;;AAAA;AAAA;AAAA;AAAA,GAAN;;kBAoHe1B,4B;;AAGf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"A3_fetch_betOnlineNBA_eventOdds.js","sourcesContent":["import config from '../config'\nimport Provider from '../models/Provider';\nimport { EventOdd, Result } from '../models/EventOdd';\nimport { OpenBet } from '../models/BetOrder';\nimport _ from 'lodash'\nimport moment from 'moment'\nimport axios from 'axios'\nimport xml2js from'xml2js-es6-promise'\n\nconst fetch_betOnlineNBA_eventOdds = async () => {\n \ttry{\n \t\tconst betOnlineNBA = await Provider.findOne({ provider: 'betonlinenba', activate: true })\n\n \t\tif(betOnlineNBA){\n\t\t \tconst response = await axios.get(betOnlineNBA.apiLink)\n\t\t \tif(!_.isEmpty(response.data)){\n\t\t \t\tconst nbaData = await xml2js(response.data, {explicitArray: false})\n\n\t\t \t\tif(!_.isEmpty(nbaData.bestlinesports_line_feed.event)){\n\t\t \t\t\tawait Promise.all(nbaData.bestlinesports_line_feed.event.map( async event => {\n\n\t\t\t\t\t\tif(event.league === 'NBA Basketball'){\n\t\t\t\t\t\t\tlet away = {}\n\t\t\t\t\t\t\tlet home = {}\n\t\t\t\t\t\t\tif(event.participant[0].visiting_home_draw === 'Visiting'){\n\t\t\t\t\t\t\t\taway = event.participant[0]\n\t\t\t\t\t\t\t\thome = event.participant[1]\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\taway = event.participant[1]\n\t\t\t\t\t\t\t\thome = event.participant[0]\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlet oddType = ''\n\t\t\t\t\t\t\tswitch(event.period.period_description){\n\t\t\t\t\t\t\t\tcase 'Game':\n\t\t\t\t\t\t\t\t\toddType = 'Game';\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase '1st Half':\n\t\t\t\t\t\t\t\t\toddType = 'First Half';\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase '2nd Half':\n\t\t\t\t\t\t\t\t\toddType = 'Second Half';\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase '1st Quarter':\n\t\t\t\t\t\t\t\t\toddType = 'First Quarter';\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase '2nd Quarter':\n\t\t\t\t\t\t\t\t\toddType = 'Second Quarter';\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase '3rd Quarter':\n\t\t\t\t\t\t\t\t\toddType = 'Third Quarter';\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase '3rd Quarter':\n\t\t\t\t\t\t\t\t\toddType = 'Third Quarter';\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase '4th Quarter':\n\t\t\t\t\t\t\t\t\toddType = 'Fourth Quarter';\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tconsole.log('new event !!!!!!!!!!!!!!!! ' + event.line.perioddesc)\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet newEventOdd = {\n\t\t\t\t\t\t\t\tuniqueId: `${home.rotnum}_${away.rotnum}_${`BASKETBALL`}_${oddType.replace(/\\s/g,'').toUpperCase()}_${moment.utc(event.event_datetimeGMT).add(4, 'h').subtract(5, 'm').format('MMDDYYYY')}`,\n\t\t\t\t\t\t\t\tsource: {\n\t\t\t\t\t\t\t\t\tprovider: 'betonline',\n\t\t\t\t\t\t\t\t\tbookmaker: 'betonline',\n\t\t\t\t\t\t\t\t\tid: null,\n\t\t\t\t\t\t\t\t\tlastUpdated: moment()\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsport: 'Basketball',\n\t\t\t\t\t\t\t\toddType: oddType,\n\t\t\t\t\t\t\t\tleague: 'NBA',\n\t\t\t\t\t\t\t\tregion: '',\n\t\t\t\t\t\t\t\tdetails: '',\n\t\t\t\t\t\t\t\tmatchTime: moment.utc(event.event_datetimeGMT).add(4, 'h').subtract(5, 'm'),\n\t\t\t\t\t\t\t\tcutOffTime: moment.utc(event.period.periodcutoff_datetimeGMT).add(4, 'h').subtract(10, 'm').subtract(1, 'seconds'),\n\t\t\t\t\t\t\t\tteam: {\n\t\t\t\t\t\t\t\t\thome: home.participant_name,\n\t\t\t\t\t\t\t\t\thomeROT: home.rotnum,\n\t\t\t\t\t\t\t\t\thomePitcher: '',\n\t\t\t\t\t\t\t\t\taway: away.participant_name,\n\t\t\t\t\t\t\t\t\tawayROT: away.rotnum,\n\t\t\t\t\t\t\t\t\tawayPitcher:  '',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\todds: {\n\t\t\t\t\t\t\t\t\tmoneyLineHome: Number(home.odds.moneyline),\n\t\t\t\t\t\t\t\t\tmoneyLineAway: Number(away.odds.moneyline),\n\t\t\t\t\t\t\t\t\tpointSpreadHome: Number(event.period.spread.spread_home),\n\t\t\t\t\t\t\t\t\tpointSpreadAway: Number(event.period.spread.spread_visiting),\n\t\t\t\t\t\t\t\t\tpointSpreadHomeLine: Number(event.period.spread.spread_adjust_home),\n\t\t\t\t\t\t\t\t\tpointSpreadAwayLine: Number(event.period.spread.spread_adjust_visiting),\n\t\t\t\t\t\t\t\t\ttotalNumber: Number(event.period.total.total_points),\n\t\t\t\t\t\t\t\t\toverLine: Number(event.period.total.over_adjust),\n\t\t\t\t\t\t\t\t\tunderLine: Number(event.period.total.under_adjust)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tupdatedAt: moment(),\n\t\t\t\t\t\t\t\texpireAt: moment.utc(event.period.periodcutoff_datetimeGMT).add(4, 'h').subtract(10, 'm').subtract(1, 'seconds')\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst existedEventOdd = await EventOdd.findOne({ uniqueId: newEventOdd.uniqueId })\n\t\t\t\t\t\t\tif(_.isEmpty(existedEventOdd)){\n\t\t\t\t\t\t\t\tawait new EventOdd(newEventOdd).save()\n\t\t\t\t\t\t\t\tconsole.log(`saved ${newEventOdd.uniqueId}`)\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tawait EventOdd.findOneAndUpdate({ uniqueId: newEventOdd.uniqueId }, { $set: newEventOdd })\n\t\t\t\t\t\t\t\tconsole.log(`updated ${newEventOdd.uniqueId}`)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn null\n\n\n\t\t \t\t\t}))\n\n\t\t \t\t}else{\n\t\t \t\t\tconsole.log('betOnline nba data empty')\n\t\t \t\t}\n\n\t\t \t}\n \t\t}\n \t}catch(err){\n \t\tthrow err\n \t}\n}\n\nexport default fetch_betOnlineNBA_eventOdds\n\n\n// import config from '../config'\n// import Provider from '../models/Provider';\n// import { EventOdd, Result } from '../models/EventOdd';\n// import { OpenBet } from '../models/BetOrder';\n// import _ from 'lodash'\n// import moment from 'moment'\n// import axios from 'axios'\n// import xml2js from'xml2js-es6-promise'\n\n// import fs from 'fs'\n// import express from 'express';\n// const router = express.Router();\n\n\n// router.get('/', async (req, res) => {\n// \tawait fs.readFile( __dirname + '/basketball.xml', \"utf8\", async (err, data) => {\n\n// \t\tconst betOnlineData = await xml2js(data, {explicitArray: false})\n// \t\tbetOnlineData.bestlinesports_line_feed.event.map(async event => {\n\n// \t\t\tif(event.league === 'NBA Basketball'){\n// \t\t\t\tlet away = {}\n// \t\t\t\tlet home = {}\n// \t\t\t\tif(event.participant[0].visiting_home_draw === 'Visiting'){\n// \t\t\t\t\taway = event.participant[0]\n// \t\t\t\t\thome = event.participant[1]\n// \t\t\t\t}else{\n// \t\t\t\t\taway = event.participant[1]\n// \t\t\t\t\thome = event.participant[0]\n// \t\t\t\t}\n\n// \t\t\t\tlet oddType = ''\n// \t\t\t\tswitch(event.period.period_description){\n// \t\t\t\t\tcase 'Game':\n// \t\t\t\t\t\toddType = 'Game';\n// \t\t\t\t\t\tbreak;\n// \t\t\t\t\tcase '1st Half':\n// \t\t\t\t\t\toddType = 'First Half';\n// \t\t\t\t\t\tbreak;\n// \t\t\t\t\tcase '2nd Half':\n// \t\t\t\t\t\toddType = 'Second Half';\n// \t\t\t\t\t\tbreak;\n// \t\t\t\t\tcase '1st Quarter':\n// \t\t\t\t\t\toddType = 'First Quarter';\n// \t\t\t\t\t\tbreak;\n// \t\t\t\t\tcase '2nd Quarter':\n// \t\t\t\t\t\toddType = 'Second Quarter';\n// \t\t\t\t\t\tbreak;\n// \t\t\t\t\tcase '3rd Quarter':\n// \t\t\t\t\t\toddType = 'Third Quarter';\n// \t\t\t\t\t\tbreak;\n// \t\t\t\t\tcase '3rd Quarter':\n// \t\t\t\t\t\toddType = 'Third Quarter';\n// \t\t\t\t\t\tbreak;\n// \t\t\t\t\tcase '4th Quarter':\n// \t\t\t\t\t\toddType = 'Fourth Quarter';\n// \t\t\t\t\t\tbreak;\n// \t\t\t\t\tdefault:\n// \t\t\t\t\t\tconsole.log('new event !!!!!!!!!!!!!!!! ' + event.line.perioddesc)\n// \t\t\t\t\t\treturn;\n// \t\t\t\t}\n// \t\t\t\tlet newEventOdd = {\n// \t\t\t\t\tuniqueId: `${home.rotnum}_${away.rotnum}_${`BASKETBALL`}_${oddType.replace(/\\s/g,'').toUpperCase()}_${moment.utc(event.event_datetimeGMT).format('MMDDYYYY')}`,\n// \t\t\t\t\tsource: {\n// \t\t\t\t\t\tprovider: 'betonline',\n// \t\t\t\t\t\tbookmaker: 'betonline',\n// \t\t\t\t\t\tid: null,\n// \t\t\t\t\t\tlastUpdated: moment()\n// \t\t\t\t\t},\n// \t\t\t\t\tsport: 'Basketball',\n// \t\t\t\t\toddType: oddType,\n// \t\t\t\t\tleague: 'NBA',\n// \t\t\t\t\tregion: '',\n// \t\t\t\t\tdetails: '',\n// \t\t\t\t\tmatchTime: moment.utc(event.event_datetimeGMT),\n// \t\t\t\t\tcutOffTime: moment.utc(event.period.periodcutoff_datetimeGMT),\n// \t\t\t\t\tteam: {\n// \t\t\t\t\t\thome: home.participant_name,\n// \t\t\t\t\t\thomeROT: home.rotnum,\n// \t\t\t\t\t\thomePitcher: '',\n// \t\t\t\t\t\taway: away.participant_name,\n// \t\t\t\t\t\tawayROT: away.rotnum,\n// \t\t\t\t\t\tawayPitcher:  '',\n// \t\t\t\t\t},\n// \t\t\t\t\todds: {\n// \t\t\t\t\t\tmoneyLineHome: Number(home.odds.moneyline),\n// \t\t\t\t\t\tmoneyLineAway: Number(away.odds.moneyline),\n// \t\t\t\t\t\tpointSpreadHome: Number(event.period.spread.spread_home),\n// \t\t\t\t\t\tpointSpreadAway: Number(event.period.spread.spread_visiting),\n// \t\t\t\t\t\tpointSpreadHomeLine: Number(event.period.spread.spread_adjust_home),\n// \t\t\t\t\t\tpointSpreadAwayLine: Number(event.period.spread.spread_adjust_visiting),\n// \t\t\t\t\t\ttotalNumber: Number(event.period.total.total_points),\n// \t\t\t\t\t\toverLine: Number(event.period.total.over_adjust),\n// \t\t\t\t\t\tunderLine: Number(event.period.total.under_adjust)\n// \t\t\t\t\t},\n// \t\t\t\t\tupdatedAt: moment(),\n// \t\t\t\t\texpireAt: moment.utc(event.period.periodcutoff_datetimeGMT).subtract(1, 'seconds')\n// \t\t\t\t}\n\n// \t\t\t\tconst existedEventOdd = await EventOdd.findOne({ uniqueId: newEventOdd.uniqueId })\n// \t\t\t\tif(_.isEmpty(existedEventOdd)){\n// \t\t\t\t\tawait new EventOdd(newEventOdd).save()\n// \t\t\t\t\tconsole.log(`saved ${newEventOdd.uniqueId}`)\n// \t\t\t\t}else{\n// \t\t\t\t\tawait EventOdd.findOneAndUpdate({ uniqueId: newEventOdd.uniqueId }, { $set: newEventOdd })\n// \t\t\t\t\tconsole.log(`updated ${newEventOdd.uniqueId}`)\n// \t\t\t\t}\n// \t\t\t}\n// \t\t\treturn null\n// \t\t})\n\n// \t\tres.json(betOnlineData.bestlinesports_line_feed.event)\n// \t})\n// })\n\n// export default router"]}